name: bigquery_ingestion
database: example
rdbms_name: bigquery
description: BigQuery ingestion
gcp_connection_id: google_cloud_debussy
dag_parameters:
    dag_id: bigquery_ingestion
    description: BigQuery ingestion
    catchup: false
    schedule_interval: '*/1 * * * *' # At every minute.
    start_date:
      year: 2022
      month: 1
      day: 1
    default_args:
      owner: astro

ingestion_parameters:
  - name: sintetico
    extract_sql_query: SELECT 'dado' as data
    extract_connection_id: google_cloud_debussy
    data_partitioning:
      partitioning_type: time
      partition_granularity: HOUR
      field: _execution_date
      value: "{{ execution_date }}"
      destination_partition: "{{ macros.ds_format(execution_date, '%Y-%m-%dT%H:%M:%S+00:00', '%Y%m%d%H') }}"
