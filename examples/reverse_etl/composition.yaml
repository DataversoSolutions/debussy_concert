name: dev_retl
description: Example of a reverse ETL from data warehouse to sftp using dummy operators
dag_parameters:
    dag_id: reverse_etl_example_dag
    schedule_interval: null
    start_date:
      year: 2022
      month: 1
      day: 1
    description: Example of a reverse ETL from data warehouse to sftp using dummy operators
    default_args:
      owner: astro
extraction_movements:
  - name: retl_data
    retl_query: select 'reverse_etl_composition_test' as data, '{{ ts_nodash }}' as date, TIMESTAMP('{{ execution_date }}') as execution_date
    retl_dataset_partition_type: DAY
    retl_dataset_partition_field: execution_date
    extract_query_from_temp: select * from `{reverse_etl_table_uri}`
    file_format: CSV
    field_delimiter: ','
    destination_type: sftp
    destination_object_path: /path/to/file.csv
    bigquery_connection_id: gcp_bq_conn
    destination_connection_id: sftp_conn


